from cryptography.fernet import Fernet
import os

# Paths
BASE_DIR = os.path.dirname(os.path.dirname(__file__))
DATA_DIR = os.path.join(BASE_DIR, 'data')
KEY_PATH = os.path.join(DATA_DIR, 'key.key')

# Ensure data directory exists
os.makedirs(DATA_DIR, exist_ok=True)

# Generate a new Fernet key
key = Fernet.generate_key()

# Save it to key.key
with open(KEY_PATH, 'wb') as f:
    f.write(key)

print(f"New Fernet key generated and saved at: {KEY_PATH}")
